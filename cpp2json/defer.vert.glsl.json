{
    "ast": "TranslationUnit",
    "filename": "/Users/mp/alicenode_inhabitat/defer.vert.glsl",
    "nodes": [
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 18,
                    "col": 1,
                    "line": 2
                },
                "end": {
                    "char": 30,
                    "col": 13,
                    "line": 2
                }
            },
            "name": "mat4",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 74,
                    "col": 1,
                    "line": 3
                },
                "end": {
                    "char": 86,
                    "col": 13,
                    "line": 3
                }
            },
            "name": "vec2",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 189,
                    "col": 1,
                    "line": 8
                },
                "end": {
                    "char": 197,
                    "col": 9,
                    "line": 8
                }
            },
            "name": "vec2",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 208,
                    "col": 1,
                    "line": 9
                },
                "end": {
                    "char": 216,
                    "col": 9,
                    "line": 9
                }
            },
            "name": "vec3",
            "type": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 259,
                    "col": 1,
                    "line": 11
                },
                "end": {
                    "char": 920,
                    "col": 2,
                    "line": 30
                }
            },
            "mangled_name": "_main",
            "name": "main",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 271,
                            "col": 13,
                            "line": 11
                        },
                        "end": {
                            "char": 920,
                            "col": 2,
                            "line": 30
                        }
                    },
                    "text": "{\n\tgl_Position = vec4(aPos, 0., 1.0);\n\n\ttexCoord = aTexCoord*uTexScale + uTexOffset;\n\n\t// project a clip coordinate out into the world\n\tvec4 near = uViewProjectionMatrixInverse * vec4(gl_Position.xy, -1, 1);\n\tvec4 far = uViewProjectionMatrixInverse * vec4(gl_Position.xy, 1, 1);\n\tvec3 near3 = near.xyz/near.w;\n\tvec3 far3 = far.xyz/far.w;\n\t// get ray from this:\n\tray_direction = far3 - near3;\n\t\n\t// in theory origin is just the world-position\n\t// in practice we might want to add near-clip... \n\tray_origin = near3;\n\t\n\t// derive eye location in world space from current (model)view matrix:\n    eye_position = -(uViewMatrix[3].xyz)*mat3(uViewMatrix);\n}"
                }
            ],
            "type": "void ()",
            "type_args": [],
            "type_ret": "void"
        }
    ]
}
