{
    "ast": "TranslationUnit",
    "filename": "/Users/mp/alicenode_inhabitat/land.frag.glsl",
    "nodes": [
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 18,
                    "col": 1,
                    "line": 2
                },
                "end": {
                    "char": 35,
                    "col": 18,
                    "line": 2
                }
            },
            "name": "sampler2D",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 61,
                    "col": 1,
                    "line": 4
                },
                "end": {
                    "char": 73,
                    "col": 13,
                    "line": 4
                }
            },
            "name": "mat4",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 175,
                    "col": 1,
                    "line": 6
                },
                "end": {
                    "char": 192,
                    "col": 18,
                    "line": 6
                }
            },
            "name": "sampler2D",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 205,
                    "col": 1,
                    "line": 7
                },
                "end": {
                    "char": 222,
                    "col": 18,
                    "line": 7
                }
            },
            "name": "sampler2D",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 233,
                    "col": 1,
                    "line": 8
                },
                "end": {
                    "char": 250,
                    "col": 18,
                    "line": 8
                }
            },
            "name": "sampler3D",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 265,
                    "col": 1,
                    "line": 9
                },
                "end": {
                    "char": 277,
                    "col": 13,
                    "line": 9
                }
            },
            "name": "mat4",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 292,
                    "col": 1,
                    "line": 11
                },
                "end": {
                    "char": 299,
                    "col": 8,
                    "line": 11
                }
            },
            "name": "vec2",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 310,
                    "col": 1,
                    "line": 12
                },
                "end": {
                    "char": 317,
                    "col": 8,
                    "line": 12
                }
            },
            "name": "vec3",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 514,
                    "col": 2,
                    "line": 20
                },
                "end": {
                    "char": 529,
                    "col": 17,
                    "line": 20
                }
            },
            "name": "rot1",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 595,
                    "col": 2,
                    "line": 21
                },
                "end": {
                    "char": 610,
                    "col": 17,
                    "line": 21
                }
            },
            "name": "rot2",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 678,
                    "col": 2,
                    "line": 22
                },
                "end": {
                    "char": 693,
                    "col": 17,
                    "line": 22
                }
            },
            "name": "rot3",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 761,
                    "col": 2,
                    "line": 23
                },
                "end": {
                    "char": 776,
                    "col": 17,
                    "line": 23
                }
            },
            "name": "rot4",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 838,
                    "col": 2,
                    "line": 24
                },
                "end": {
                    "char": 853,
                    "col": 17,
                    "line": 24
                }
            },
            "name": "rot5",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 919,
                    "col": 2,
                    "line": 25
                },
                "end": {
                    "char": 934,
                    "col": 17,
                    "line": 25
                }
            },
            "name": "rot6",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 1002,
                    "col": 2,
                    "line": 26
                },
                "end": {
                    "char": 1017,
                    "col": 17,
                    "line": 26
                }
            },
            "name": "rot7",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 1085,
                    "col": 2,
                    "line": 27
                },
                "end": {
                    "char": 1100,
                    "col": 17,
                    "line": 27
                }
            },
            "name": "rot8",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 1166,
                    "col": 2,
                    "line": 28
                },
                "end": {
                    "char": 1181,
                    "col": 17,
                    "line": 28
                }
            },
            "name": "rot9",
            "type": "const int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 1249,
                    "col": 2,
                    "line": 29
                },
                "end": {
                    "char": 1265,
                    "col": 18,
                    "line": 29
                }
            },
            "name": "rot10",
            "type": "const int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1331,
                    "col": 1,
                    "line": 31
                },
                "end": {
                    "char": 1435,
                    "col": 2,
                    "line": 35
                }
            },
            "mangled_name": "__Z3skyi",
            "name": "sky",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 1350,
                            "col": 20,
                            "line": 31
                        },
                        "end": {
                            "char": 1435,
                            "col": 2,
                            "line": 35
                        }
                    },
                    "text": "{\n\tvec3 n = dir*0.5+0.5;\n\tn.g = mix(n.b, n.r, 0.8);\n\treturn mix(n, vec3(1.), 0.75);\n}"
                }
            ],
            "type": "int (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1458,
                    "col": 1,
                    "line": 38
                },
                "end": {
                    "char": 1784,
                    "col": 2,
                    "line": 45
                }
            },
            "mangled_name": "__Z12computeDepthii",
            "name": "computeDepth",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 1477,
                            "col": 20,
                            "line": 38
                        },
                        "end": {
                            "char": 1483,
                            "col": 26,
                            "line": 38
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 1485,
                            "col": 28,
                            "line": 38
                        },
                        "end": {
                            "char": 1510,
                            "col": 53,
                            "line": 38
                        }
                    },
                    "name": "viewProjectionMatrix",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 1512,
                            "col": 55,
                            "line": 38
                        },
                        "end": {
                            "char": 1784,
                            "col": 2,
                            "line": 45
                        }
                    },
                    "text": "{\n\tfloat dfar = gl_DepthRange.far;\n\tfloat dnear = gl_DepthRange.near;\n\tvec4 clip_space_pos = viewProjectionMatrix * vec4(p, 1.);\n\tfloat ndc_depth = clip_space_pos.z / clip_space_pos.w;\t\n\t// standard perspective:\n\treturn (((dfar-dnear) * ndc_depth) + dnear + dfar) / 2.0;\n}"
                }
            ],
            "type": "float (int, int)",
            "type_args": [
                "int",
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1826,
                    "col": 1,
                    "line": 48
                },
                "end": {
                    "char": 1871,
                    "col": 2,
                    "line": 50
                }
            },
            "mangled_name": "__Z4vmaxi",
            "name": "vmax",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 1837,
                            "col": 12,
                            "line": 48
                        },
                        "end": {
                            "char": 1843,
                            "col": 18,
                            "line": 48
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 1845,
                            "col": 20,
                            "line": 48
                        },
                        "end": {
                            "char": 1871,
                            "col": 2,
                            "line": 50
                        }
                    },
                    "text": "{\n\treturn max(v.x, v.y);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1873,
                    "col": 1,
                    "line": 52
                },
                "end": {
                    "char": 1928,
                    "col": 2,
                    "line": 54
                }
            },
            "mangled_name": "__Z4vmaxi",
            "name": "vmax",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 1884,
                            "col": 12,
                            "line": 52
                        },
                        "end": {
                            "char": 1890,
                            "col": 18,
                            "line": 52
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 1892,
                            "col": 20,
                            "line": 52
                        },
                        "end": {
                            "char": 1928,
                            "col": 2,
                            "line": 54
                        }
                    },
                    "text": "{\n\treturn max(max(v.x, v.y), v.z);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1930,
                    "col": 1,
                    "line": 56
                },
                "end": {
                    "char": 1995,
                    "col": 2,
                    "line": 58
                }
            },
            "mangled_name": "__Z4vmaxi",
            "name": "vmax",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 1941,
                            "col": 12,
                            "line": 56
                        },
                        "end": {
                            "char": 1947,
                            "col": 18,
                            "line": 56
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 1949,
                            "col": 20,
                            "line": 56
                        },
                        "end": {
                            "char": 1995,
                            "col": 2,
                            "line": 58
                        }
                    },
                    "text": "{\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 1997,
                    "col": 1,
                    "line": 60
                },
                "end": {
                    "char": 2042,
                    "col": 2,
                    "line": 62
                }
            },
            "mangled_name": "__Z4vmini",
            "name": "vmin",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 2008,
                            "col": 12,
                            "line": 60
                        },
                        "end": {
                            "char": 2014,
                            "col": 18,
                            "line": 60
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 2016,
                            "col": 20,
                            "line": 60
                        },
                        "end": {
                            "char": 2042,
                            "col": 2,
                            "line": 62
                        }
                    },
                    "text": "{\n\treturn min(v.x, v.y);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 2044,
                    "col": 1,
                    "line": 64
                },
                "end": {
                    "char": 2099,
                    "col": 2,
                    "line": 66
                }
            },
            "mangled_name": "__Z4vmini",
            "name": "vmin",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 2055,
                            "col": 12,
                            "line": 64
                        },
                        "end": {
                            "char": 2061,
                            "col": 18,
                            "line": 64
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 2063,
                            "col": 20,
                            "line": 64
                        },
                        "end": {
                            "char": 2099,
                            "col": 2,
                            "line": 66
                        }
                    },
                    "text": "{\n\treturn min(min(v.x, v.y), v.z);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 2101,
                    "col": 1,
                    "line": 68
                },
                "end": {
                    "char": 2166,
                    "col": 2,
                    "line": 70
                }
            },
            "mangled_name": "__Z4vmini",
            "name": "vmin",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 2112,
                            "col": 12,
                            "line": 68
                        },
                        "end": {
                            "char": 2118,
                            "col": 18,
                            "line": 68
                        }
                    },
                    "name": "v",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 2120,
                            "col": 20,
                            "line": 68
                        },
                        "end": {
                            "char": 2166,
                            "col": 2,
                            "line": 70
                        }
                    },
                    "text": "{\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 2196,
                    "col": 1,
                    "line": 73
                },
                "end": {
                    "char": 2324,
                    "col": 2,
                    "line": 77
                }
            },
            "mangled_name": "__Z5pMod2i",
            "name": "pMod2",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 2232,
                            "col": 37,
                            "line": 73
                        },
                        "end": {
                            "char": 2324,
                            "col": 2,
                            "line": 77
                        }
                    },
                    "text": "{\n\tvec2 c = floor((p + size*0.5)/size);\n\tp = mod(p + size*0.5,size) - size*0.5;\n\treturn c;\n}"
                }
            ],
            "type": "int (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 2423,
                    "col": 1,
                    "line": 80
                },
                "end": {
                    "char": 3008,
                    "col": 2,
                    "line": 101
                }
            },
            "mangled_name": "__Z13pModInterval2i",
            "name": "pModInterval2",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 2490,
                            "col": 68,
                            "line": 80
                        },
                        "end": {
                            "char": 3008,
                            "col": 2,
                            "line": 101
                        }
                    },
                    "text": "{\n\tvec2 halfsize = size*0.5;\n\tvec2 c = floor((p + size*0.5)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c.x > stop.x) { //yes, this might not be the best thing numerically.\n\t\tp.x += size.x*(c.x - stop.x);\n\t\tc.x = stop.x;\n\t}\n\tif (c.x < start.x) {\n\t\tp.x += size.x*(c.x - start.x);\n\t\tc.x = start.x;\n\t}\n\tif (c.y > stop.y) { //yes, this might not be the best thing numerically.\n\t\tp.y += size.y*(c.y - stop.y);\n\t\tc.y = stop.y;\n\t}\n\tif (c.y < start.y) {\n\t\tp.y += size.y*(c.y - start.y);\n\t\tc.y = start.y;\n\t}\n\treturn c;\n}"
                }
            ],
            "type": "int (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3248,
                    "col": 1,
                    "line": 106
                },
                "end": {
                    "char": 3322,
                    "col": 2,
                    "line": 108
                }
            },
            "mangled_name": "__Z2pRi",
            "name": "pR",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3256,
                            "col": 9,
                            "line": 106
                        },
                        "end": {
                            "char": 3266,
                            "col": 19,
                            "line": 106
                        }
                    },
                    "name": "vec2",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3279,
                            "col": 32,
                            "line": 106
                        },
                        "end": {
                            "char": 3322,
                            "col": 2,
                            "line": 108
                        }
                    },
                    "text": "{\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}"
                }
            ],
            "type": "void (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "void"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3398,
                    "col": 1,
                    "line": 111
                },
                "end": {
                    "char": 3496,
                    "col": 2,
                    "line": 113
                }
            },
            "mangled_name": "__Z6fPlaneiif",
            "name": "fPlane",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3411,
                            "col": 14,
                            "line": 111
                        },
                        "end": {
                            "char": 3417,
                            "col": 20,
                            "line": 111
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3419,
                            "col": 22,
                            "line": 111
                        },
                        "end": {
                            "char": 3425,
                            "col": 28,
                            "line": 111
                        }
                    },
                    "name": "n",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3427,
                            "col": 30,
                            "line": 111
                        },
                        "end": {
                            "char": 3451,
                            "col": 54,
                            "line": 111
                        }
                    },
                    "name": "distanceFromOrigin",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3453,
                            "col": 56,
                            "line": 111
                        },
                        "end": {
                            "char": 3496,
                            "col": 2,
                            "line": 113
                        }
                    },
                    "text": "{\n\treturn dot(p, n) + distanceFromOrigin;\n}"
                }
            ],
            "type": "float (int, int, float)",
            "type_args": [
                "int",
                "int",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3498,
                    "col": 1,
                    "line": 115
                },
                "end": {
                    "char": 3555,
                    "col": 2,
                    "line": 117
                }
            },
            "mangled_name": "__Z7fSphereif",
            "name": "fSphere",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3512,
                            "col": 15,
                            "line": 115
                        },
                        "end": {
                            "char": 3518,
                            "col": 21,
                            "line": 115
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3520,
                            "col": 23,
                            "line": 115
                        },
                        "end": {
                            "char": 3527,
                            "col": 30,
                            "line": 115
                        }
                    },
                    "name": "r",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3529,
                            "col": 32,
                            "line": 115
                        },
                        "end": {
                            "char": 3555,
                            "col": 2,
                            "line": 117
                        }
                    },
                    "text": "{\n\treturn length(p) - r;\n}"
                }
            ],
            "type": "float (int, float)",
            "type_args": [
                "int",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3593,
                    "col": 1,
                    "line": 120
                },
                "end": {
                    "char": 3702,
                    "col": 2,
                    "line": 123
                }
            },
            "mangled_name": "__Z4fBoxii",
            "name": "fBox",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3604,
                            "col": 12,
                            "line": 120
                        },
                        "end": {
                            "char": 3610,
                            "col": 18,
                            "line": 120
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3612,
                            "col": 20,
                            "line": 120
                        },
                        "end": {
                            "char": 3618,
                            "col": 26,
                            "line": 120
                        }
                    },
                    "name": "b",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3620,
                            "col": 28,
                            "line": 120
                        },
                        "end": {
                            "char": 3702,
                            "col": 2,
                            "line": 123
                        }
                    },
                    "text": "{\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}"
                }
            ],
            "type": "float (int, int)",
            "type_args": [
                "int",
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3757,
                    "col": 1,
                    "line": 126
                },
                "end": {
                    "char": 3893,
                    "col": 2,
                    "line": 128
                }
            },
            "mangled_name": "__Z8fCapsuleiff",
            "name": "fCapsule",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3772,
                            "col": 16,
                            "line": 126
                        },
                        "end": {
                            "char": 3778,
                            "col": 22,
                            "line": 126
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3780,
                            "col": 24,
                            "line": 126
                        },
                        "end": {
                            "char": 3787,
                            "col": 31,
                            "line": 126
                        }
                    },
                    "name": "r",
                    "type": "float"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3789,
                            "col": 33,
                            "line": 126
                        },
                        "end": {
                            "char": 3796,
                            "col": 40,
                            "line": 126
                        }
                    },
                    "name": "c",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3798,
                            "col": 42,
                            "line": 126
                        },
                        "end": {
                            "char": 3893,
                            "col": 2,
                            "line": 128
                        }
                    },
                    "text": "{\n\treturn mix(length(p.xz) - r, length(vec3(p.x, abs(p.y) - c, p.z)) - r, step(c, abs(p.y)));\n}"
                }
            ],
            "type": "float (int, float, float)",
            "type_args": [
                "int",
                "float",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 3895,
                    "col": 1,
                    "line": 130
                },
                "end": {
                    "char": 4023,
                    "col": 2,
                    "line": 133
                }
            },
            "mangled_name": "__Z4sminfff",
            "name": "smin",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3907,
                            "col": 13,
                            "line": 130
                        },
                        "end": {
                            "char": 3914,
                            "col": 20,
                            "line": 130
                        }
                    },
                    "name": "a",
                    "type": "float"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3916,
                            "col": 22,
                            "line": 130
                        },
                        "end": {
                            "char": 3923,
                            "col": 29,
                            "line": 130
                        }
                    },
                    "name": "b",
                    "type": "float"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 3925,
                            "col": 31,
                            "line": 130
                        },
                        "end": {
                            "char": 3932,
                            "col": 38,
                            "line": 130
                        }
                    },
                    "name": "k",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 3935,
                            "col": 41,
                            "line": 130
                        },
                        "end": {
                            "char": 4023,
                            "col": 2,
                            "line": 133
                        }
                    },
                    "text": "{\n\tfloat h = clamp( 0.5+0.5*(b-a)/k, 0.0, 1.0 );\n\treturn mix( b, a, h ) - k*h*(1.0-h);\n}"
                }
            ],
            "type": "float (float, float, float)",
            "type_args": [
                "float",
                "float",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 4025,
                    "col": 1,
                    "line": 135
                },
                "end": {
                    "char": 4568,
                    "col": 2,
                    "line": 152
                }
            },
            "mangled_name": "__Z11fScene_testi",
            "name": "fScene_test",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4043,
                            "col": 19,
                            "line": 135
                        },
                        "end": {
                            "char": 4049,
                            "col": 25,
                            "line": 135
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 4051,
                            "col": 27,
                            "line": 135
                        },
                        "end": {
                            "char": 4568,
                            "col": 2,
                            "line": 152
                        }
                    },
                    "text": "{\n\t\n\tfloat x1 = min(0., sin(p.x * 4.)*sin(p.z* 4.));\n\tfloat plane = fPlane(p, vec3(0.,1.,0.), 0.01);\n\t\n\tvec3 pc = p;// + vec3(0, x1, 0);\n\t//vec2 c = pModInterval2(pc.xz, vec2(1.), vec2(-32.), vec2(32.));\n\tvec2 c = pMod2(pc.xz, vec2(0.25));\n\tfloat h = abs(sin(c.y*0.12)*sin(c.x*0.12));\n\t\n\t//pR(pc.yx, h*0.1*sin(c.y+time*1.3));\n\t//pR(pc.yz, h*0.1*sin(c.x+time*3.7));\n\t\n\t//float s = fSphere(pc, h); //\n\t//float b = fBox(pc, vec3(0.3, h, 0.3));\n\tfloat z = fCapsule(pc - vec3(0, h, 0), 0.04, 0.1);\n\treturn min(z, plane);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 4570,
                    "col": 1,
                    "line": 154
                },
                "end": {
                    "char": 4625,
                    "col": 2,
                    "line": 156
                }
            },
            "mangled_name": "__Z5quantff",
            "name": "quant",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4582,
                            "col": 13,
                            "line": 154
                        },
                        "end": {
                            "char": 4589,
                            "col": 20,
                            "line": 154
                        }
                    },
                    "name": "v",
                    "type": "float"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4591,
                            "col": 22,
                            "line": 154
                        },
                        "end": {
                            "char": 4598,
                            "col": 29,
                            "line": 154
                        }
                    },
                    "name": "s",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 4600,
                            "col": 31,
                            "line": 154
                        },
                        "end": {
                            "char": 4625,
                            "col": 2,
                            "line": 156
                        }
                    },
                    "text": "{\n\treturn floor(v/s)*s;\n}"
                }
            ],
            "type": "float (float, float)",
            "type_args": [
                "float",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 4672,
                    "col": 1,
                    "line": 159
                },
                "end": {
                    "char": 4794,
                    "col": 2,
                    "line": 163
                }
            },
            "mangled_name": "__Z9fCylinderiff",
            "name": "fCylinder",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4688,
                            "col": 17,
                            "line": 159
                        },
                        "end": {
                            "char": 4694,
                            "col": 23,
                            "line": 159
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4696,
                            "col": 25,
                            "line": 159
                        },
                        "end": {
                            "char": 4703,
                            "col": 32,
                            "line": 159
                        }
                    },
                    "name": "r",
                    "type": "float"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4705,
                            "col": 34,
                            "line": 159
                        },
                        "end": {
                            "char": 4717,
                            "col": 46,
                            "line": 159
                        }
                    },
                    "name": "height",
                    "type": "float"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 4719,
                            "col": 48,
                            "line": 159
                        },
                        "end": {
                            "char": 4794,
                            "col": 2,
                            "line": 163
                        }
                    },
                    "text": "{\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}"
                }
            ],
            "type": "float (int, float, float)",
            "type_args": [
                "int",
                "float",
                "float"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 4836,
                    "col": 1,
                    "line": 166
                },
                "end": {
                    "char": 5043,
                    "col": 2,
                    "line": 172
                }
            },
            "mangled_name": "__Z6sdConei",
            "name": "sdCone",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 4850,
                            "col": 15,
                            "line": 166
                        },
                        "end": {
                            "char": 4857,
                            "col": 22,
                            "line": 166
                        }
                    },
                    "name": "vec3",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 4873,
                            "col": 1,
                            "line": 167
                        },
                        "end": {
                            "char": 5043,
                            "col": 2,
                            "line": 172
                        }
                    },
                    "text": "{\n    vec2 q = vec2( length(p.xz), p.y );\n    float d1 = -q.y-c.z;\n    float d2 = max( dot(q,c.xy), q.y);\n    return length(max(vec2(d1,d2),0.0)) + min(max(d1,d2), 0.);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 5085,
                    "col": 1,
                    "line": 175
                },
                "end": {
                    "char": 5220,
                    "col": 2,
                    "line": 179
                }
            },
            "mangled_name": "__Z10sdCylinderii",
            "name": "sdCylinder",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 5103,
                            "col": 19,
                            "line": 175
                        },
                        "end": {
                            "char": 5109,
                            "col": 25,
                            "line": 175
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 5111,
                            "col": 27,
                            "line": 175
                        },
                        "end": {
                            "char": 5117,
                            "col": 33,
                            "line": 175
                        }
                    },
                    "name": "h",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 5120,
                            "col": 1,
                            "line": 176
                        },
                        "end": {
                            "char": 5220,
                            "col": 2,
                            "line": 179
                        }
                    },
                    "text": "{\n  vec2 d = abs(vec2(length(p.xz),p.y)) - h;\n  return min(max(d.x,d.y),0.0) + length(max(d,0.0));\n}"
                }
            ],
            "type": "float (int, int)",
            "type_args": [
                "int",
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 5262,
                    "col": 1,
                    "line": 182
                },
                "end": {
                    "char": 5321,
                    "col": 2,
                    "line": 185
                }
            },
            "mangled_name": "__Z5opRepii",
            "name": "opRep",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 5291,
                            "col": 1,
                            "line": 183
                        },
                        "end": {
                            "char": 5321,
                            "col": 2,
                            "line": 185
                        }
                    },
                    "text": "{\n    return mod(p,c)-0.5*c;\n}"
                }
            ],
            "type": "int (int, int)",
            "type_args": [
                "int",
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 5323,
                    "col": 1,
                    "line": 187
                },
                "end": {
                    "char": 5607,
                    "col": 2,
                    "line": 197
                }
            },
            "mangled_name": "__Z8sinNoisei",
            "name": "sinNoise",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 5345,
                            "col": 1,
                            "line": 188
                        },
                        "end": {
                            "char": 5607,
                            "col": 2,
                            "line": 197
                        }
                    },
                    "text": "{\n    vec2 p1 = p;\n    vec2 p2 = p * rot2 * 0.4;\n    vec2 p3 = p * rot6 * 0.7;\n    vec2 p4 = p * rot10 * 1.5;\n\tvec4 s1 = sin(vec4(p1.x, p1.y, p2.x, p2.y));\n    vec4 s2 = sin(vec4(p3.x, p3.y, p4.x, p4.y));\n    \n    return (s1.xy + s1.zw + s2.xy + s2.zw) * 0.25;\n}"
                }
            ],
            "type": "int (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 5610,
                    "col": 1,
                    "line": 200
                },
                "end": {
                    "char": 8965,
                    "col": 2,
                    "line": 318
                }
            },
            "mangled_name": "__Z6fScenei",
            "name": "fScene",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 5623,
                            "col": 14,
                            "line": 200
                        },
                        "end": {
                            "char": 5629,
                            "col": 20,
                            "line": 200
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 5631,
                            "col": 22,
                            "line": 200
                        },
                        "end": {
                            "char": 8965,
                            "col": 2,
                            "line": 318
                        }
                    },
                    "text": "{\n\tvec3 tc = (uLandMatrix * vec4(p, 1.)).xyz;\n\t// distance to nearest floor (not same as direct down)\n    float d = texture(uDistanceTex, tc).x;\n\n\t// surface detail:\n\t/*vec3 p1 = p * vec3(1,0,1) + vec3(0, d, 0);\n\tfloat d0 = fScene_test(p);\n\tfloat d1 = fScene_test(p1) + d;\n\n\t// a repetitive object:\n\tvec3 pt = p * 3.;\n\tvec3 pf = fract(pt)-0.5;\n\tfloat ptpt = dot(pf, pf);\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tfloat tiledeform = ptpt * -0.02 - 0.01;\n\n\t//d -= tiledeform;*/\n\n/*\n\tvec3 baseGeo = vec3(tc.xz, d);\n\n\t//making grass/hair on the creature\n\t//--------------------------------------------------\n\t//--- from https://www.shadertoy.com/view/ltSyzd ---\n\t//--------------------------------------------------\n\tconst float height = 0.02;\n\tconst float heightvar = 0.000000005;\n\tconst float density = 0.1;\n\tconst float thickness = 1.0;\n\n\tvec3 baseGeometry = baseGeo;\n\n\tfloat phase = time;\n       \n    p.y = baseGeometry.z;\n    //float hvar = sinNoise(p.xz * 100.).x; //texture(iChannel0, p.xz*0.075).x;\n\tvec3 landtexcoord = (uLandMatrix * vec4(p, 1.)).xyz;\n\tfloat fungus = texture(uFungusTex, landtexcoord.xz).r;\n    float h = height + fungus*heightvar;\n    \n    vec2 t = phase * vec2(5.0, 4.3);\n    vec2 windNoise = sinNoise(p.xz*6.5 + t);\n    vec2 windNoise2 = sin(vec2(phase*1.5, phase + PI) + p.xz*1.0) * 0.5 + vec2(2.0, 1.0);\n    vec2 wind = (windNoise*0.95 + windNoise2*2.3) * (p.y);\n\n    p.xz += wind;\n\n\n    vec3 p1 = opRep(p, vec3(density));\n    p1 = vec3(p1.x, p.y - h, p1.z);\n    float g1 = sdCone(p1, vec3(1.0, thickness, h));\n\t//float g1 = fCylinder(p1, thickness, h);\n    \n    p.xz *= rot5;\n    vec3 p2 = opRep(p, vec3(density)*0.85);\n    p2 = vec3(p2.x, p.y - h, p2.z);\n    float g2 = sdCone(p2, vec3(1.0, thickness, h));\n    \n    p.xz *= rot10;\n    vec3 p3 = opRep(p, vec3(density)*0.7);\n    p3 = vec3(p3.x, p.y - h, p3.z);\n    float g3 = sdCone(p3, vec3(1.0, thickness, h));\n    \n    p.xz *= rot3;\n    vec3 p4 = opRep(p, vec3(density)*0.9);\n    p4 = vec3(p4.x, p.y - h, p4.z);\n    float g4 = sdCone(p4, vec3(1.0, thickness, h));\n\n\t//Cylinder test*/\n\t/*\n\tvec3 p1 = opRep(p, vec3(density));\n    p1 = vec3(p1.x, p.y - h, p1.z);\n    float g1 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot5;\n    vec3 p2 = opRep(p, vec3(density)*0.85);\n    p2 = vec3(p2.x, p.y - h, p2.z);\n    float g2 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot10;\n    vec3 p3 = opRep(p, vec3(density)*0.7);\n    p3 = vec3(p3.x, p.y - h, p3.z);\n    float g3 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot3;\n    vec3 p4 = opRep(p, vec3(density)*0.9);\n    p4 = vec3(p4.x, p.y - h, p4.z);\n    float g4 = sdCylinder(p1, vec2(1.0, h));\n    \n    //float g = smin(smin(g1, g2, 0.5), smin(g3, g4, 0.5), 0.5);\n\tfloat g = min(min(g1, g2), min(g3, g4))*/\n\t\n    \n    //float id = 1.0;\n    \n    //if(baseGeometry.z < epsilon)s\n   //     id = 0.0;\n    \n\t//return vec3(min(g, baseGeometry.x), id, h);\n\t//return vec3(baseGeometry.xy, min(g, baseGeometry.z));\n\t//*/\n\n\t//.float d3 = p.y + dot(sin(p/2. + cos(p.yzx/2. + 3.14159/2.)), vec3(.5)) - 0.1;\n\n\t//return min(d, g);\n\treturn d; //min(d, d3);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 8967,
                    "col": 1,
                    "line": 320
                },
                "end": {
                    "char": 12346,
                    "col": 2,
                    "line": 438
                }
            },
            "mangled_name": "__Z13fScene_detaili",
            "name": "fScene_detail",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 8987,
                            "col": 21,
                            "line": 320
                        },
                        "end": {
                            "char": 8993,
                            "col": 27,
                            "line": 320
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 8994,
                            "col": 28,
                            "line": 320
                        },
                        "end": {
                            "char": 12346,
                            "col": 2,
                            "line": 438
                        }
                    },
                    "text": "{\n\t\tvec3 tc = (uLandMatrix * vec4(p, 1.)).xyz;\n\t// distance to nearest floor (not same as direct down)\n    float d = texture(uDistanceTex, tc).x;\n\n\t// surface detail:\n\t/*vec3 p1 = p * vec3(1,0,1) + vec3(0, d, 0);\n\tfloat d0 = fScene_test(p);\n\tfloat d1 = fScene_test(p1) + d;\n\n\t// a repetitive object:\n\tvec3 pt = p * 3.;\n\tvec3 pf = fract(pt)-0.5;\n\tfloat ptpt = dot(pf, pf);\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tpt *= 0.7;\n\tpt -= vec3(0.3, 0.123, 0.89324);\n\tpf = fract(pt)-0.5;\n\tptpt = min(ptpt, dot(pf, pf));\n\tfloat tiledeform = ptpt * -0.02 - 0.01;\n\n\t//d -= tiledeform;*/\n\n\tvec3 baseGeo = vec3(tc.xz, d);\n\n\t//making grass/hair on the creature\n\t//--------------------------------------------------\n\t//--- from https://www.shadertoy.com/view/ltSyzd ---\n\t//--------------------------------------------------\n\tconst float height = 0.02;\n\tconst float heightvar = 0.000000005;\n\tconst float density = 0.1;\n\tconst float thickness = 1.0;\n\n\tvec3 baseGeometry = baseGeo;\n\n\tfloat phase = time;\n       \n    p.y = baseGeometry.z;\n    //float hvar = sinNoise(p.xz * 100.).x; //texture(iChannel0, p.xz*0.075).x;\n\tvec3 landtexcoord = (uLandMatrix * vec4(p, 1.)).xyz;\n\tfloat fungus = texture(uFungusTex, landtexcoord.xz).r;\n    float h = height + fungus*heightvar;\n    \n    vec2 t = phase * vec2(5.0, 4.3);\n    vec2 windNoise = sinNoise(p.xz*6.5 + t);\n    vec2 windNoise2 = sin(vec2(phase*1.5, phase + PI) + p.xz*1.0) * 0.5 + vec2(2.0, 1.0);\n    vec2 wind = (windNoise*0.95 + windNoise2*2.3) * (p.y);\n\n    p.xz += wind;\n\n\n    vec3 p1 = opRep(p, vec3(density));\n    p1 = vec3(p1.x, p.y - h, p1.z);\n    float g1 = sdCone(p1, vec3(1.0, thickness, h));\n\t//float g1 = fCylinder(p1, thickness, h);\n    \n    p.xz *= rot5;\n    vec3 p2 = opRep(p, vec3(density)*0.85);\n    p2 = vec3(p2.x, p.y - h, p2.z);\n    float g2 = sdCone(p2, vec3(1.0, thickness, h));\n    \n    p.xz *= rot10;\n    vec3 p3 = opRep(p, vec3(density)*0.7);\n    p3 = vec3(p3.x, p.y - h, p3.z);\n    float g3 = sdCone(p3, vec3(1.0, thickness, h));\n    \n    p.xz *= rot3;\n    vec3 p4 = opRep(p, vec3(density)*0.9);\n    p4 = vec3(p4.x, p.y - h, p4.z);\n    float g4 = sdCone(p4, vec3(1.0, thickness, h));\n\n\t//Cylinder test*/\n\t/*\n\tvec3 p1 = opRep(p, vec3(density));\n    p1 = vec3(p1.x, p.y - h, p1.z);\n    float g1 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot5;\n    vec3 p2 = opRep(p, vec3(density)*0.85);\n    p2 = vec3(p2.x, p.y - h, p2.z);\n    float g2 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot10;\n    vec3 p3 = opRep(p, vec3(density)*0.7);\n    p3 = vec3(p3.x, p.y - h, p3.z);\n    float g3 = sdCylinder(p1, vec2(1.0, h));\n    \n    p.xz *= rot3;\n    vec3 p4 = opRep(p, vec3(density)*0.9);\n    p4 = vec3(p4.x, p.y - h, p4.z);\n    float g4 = sdCylinder(p1, vec2(1.0, h));\n    */\n    //float g = smin(smin(g1, g2, 0.5), smin(g3, g4, 0.5), 0.5);\n\tfloat g = min(min(g1, g2), min(g3, g4));\n\t\n    \n    //float id = 1.0;\n    \n    //if(baseGeometry.z < epsilon)s\n   //     id = 0.0;\n    \n\t//return vec3(min(g, baseGeometry.x), id, h);\n\t//return vec3(baseGeometry.xy, min(g, baseGeometry.z));\n\t//*/\n\n\t//.float d3 = p.y + dot(sin(p/2. + cos(p.yzx/2. + 3.14159/2.)), vec3(.5)) - 0.1;\n\n\t//return min(d, g);\n\treturn g;//smin(d, g, 0.5); //min(d, d3);\n\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 12348,
                    "col": 1,
                    "line": 440
                },
                "end": {
                    "char": 12539,
                    "col": 2,
                    "line": 446
                }
            },
            "mangled_name": "__Z7fScene0i",
            "name": "fScene0",
            "nodes": [
                {
                    "ast": "ParmDecl",
                    "loc": {
                        "begin": {
                            "char": 12362,
                            "col": 15,
                            "line": 440
                        },
                        "end": {
                            "char": 12368,
                            "col": 21,
                            "line": 440
                        }
                    },
                    "name": "p",
                    "type": "int"
                },
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 12370,
                            "col": 23,
                            "line": 440
                        },
                        "end": {
                            "char": 12539,
                            "col": 2,
                            "line": 446
                        }
                    },
                    "text": "{\n\n\tfloat a = fScene_test(p);\n\tvec3 landtexcoord = (uLandMatrix * vec4(p, 1.)).xyz;\n\t//float b = texture(uFungusTex, landtexcoord).r;\n\treturn a; // - dy; // min(a, b);\n}"
                }
            ],
            "type": "float (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "float"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 13094,
                    "col": 1,
                    "line": 456
                },
                "end": {
                    "char": 13442,
                    "col": 2,
                    "line": 465
                }
            },
            "mangled_name": "__Z7normal4i",
            "name": "normal4",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 13129,
                            "col": 36,
                            "line": 456
                        },
                        "end": {
                            "char": 13442,
                            "col": 2,
                            "line": 465
                        }
                    },
                    "text": "{\n\tvec2 e = vec2(-eps, eps);\n\t// tetrahedral points\n\tfloat t1 = fScene(p + e.yxx), t2 = fScene(p + e.xxy), t3 = fScene(p + e.xyx), t4 = fScene(p + e.yyy); \n\tvec3 n = (e.yxx*t1 + e.xxy*t2 + e.xyx*t3 + e.yyy*t4);\n\t// normalize for a consistent SDF:\n\t//return n / (4.*eps*eps);\n\t// otherwise:\n\treturn normalize(n);\n}"
                }
            ],
            "type": "int (int)",
            "type_args": [
                "int"
            ],
            "type_ret": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 13445,
                    "col": 1,
                    "line": 468
                },
                "end": {
                    "char": 15854,
                    "col": 2,
                    "line": 579
                }
            },
            "mangled_name": "_main",
            "name": "main",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 13457,
                            "col": 13,
                            "line": 468
                        },
                        "end": {
                            "char": 15854,
                            "col": 2,
                            "line": 579
                        }
                    },
                    "text": "{\n\tvec3 rd = normalize(ray);\n\tvec3 ro = origin; // plus a little ray? \n\n\t\n\n\t#define MAX_STEPS 256\n\t#define MAX_STEPS_2 25\n\t#define STEP_SIZE 1./float(MAX_STEPS)\n\tfloat precis = 1./100.; //EPS;\n\tfloat precis2 = 1./2000.;\n\tfloat maxd = uFarClip-uNearClip;\n\t\n\tvec3 color = vec3(0.);\n\tfloat t = 0.0;\n\tfloat d = maxd;\n\tvec3 p = ro;\n\tfloat count = 0.;\n\tfor( int i=0; i<MAX_STEPS; i++ ) {\n\t\n        d = fScene(p);\n        \n        if (d < precis || t > maxd ) {\n        \tif (t <= maxd) count += STEP_SIZE * (d)/precis;\n        \tbreak; // continue;\n        }\n        \n        // advance ray\n        t += d;\n        p = ro+rd*t;\n        count += STEP_SIZE;\n    }\n\t\n\tvec3 fogcolor = sky(rd);\n\n\t//.if (d < 0.) discard;\n\t\n\tif (d < precis) {\n\n\t\t// DEBUG!!\n\t\t//if (mod(p.x*4.f, 1.f) < 0.75 && mod(p.z*4.f, 1.f) < 0.75) discard;\n\n\t\tro = p;\n\t\tif(false){\n\t\t\tfor(int i=0; i<MAX_STEPS_2; i++){\n\n\t\t\t\td = fScene_detail(p);\n\n        \t\tif (d < precis2 || t > maxd ) {\n        \t\t\tif (t <= maxd) count += STEP_SIZE * (d)/precis2;\n        \t\t\tbreak; // continue;\n     \t\t   \t}\n\t\n        \t// advance ray\n        \tt += d;\n        \tp = ro+rd*t;\n        \tcount += STEP_SIZE;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfloat cheap_self_occlusion = 1.-pow(count, 0.75);\n\t\tFragColor.rgb = vec3(cheap_self_occlusion);\n\t\tFragNormal.xyz = normal4(p, .005);\n\n\t\tvec3 landtexcoord = (uLandMatrix * vec4(p, 1.)).xyz;\n\t\tfloat fungus = texture(uFungusTex, landtexcoord.xz).r;\n\n\t\tif (fungus > 0.) {\n\t\t\t// fungus:\n\t\t\tfloat smog = 0.7; // between 0.1 and 0.9\n\t\t\tfloat factor = fungus*smog;\n\t\t\tfactor += 0.2; //factor += noise.z * 0.4; \n\t\t\t//float w = min(1., h * 4.);\n\t\t\tfloat w = 1.;\n\t\t\tFragColor.rgb = mix(vec3(w), FragColor.rgb, factor);\n\t\t\n\t\t} else {\n\t\t\t//FragColor.rgb -= 0.8*(0.8-steepness);\n\t\t}\n\n\t\tvec4 land = texture(uLandTex, landtexcoord.xz);\n\t\tFragColor.rgb = vec3(fungus);\n\t\t//FragNormal.xyz = land.xyz;\n\t\t\n\t} else if (t >= maxd) {\n    \t// shot through to background\n    \tp = ro+maxd*rd;\n\n\t\t// ray direction to far clip\n\t\tvec3 rd1 = normalize(p - eyepos);\n    \t\n\t\t//discard;\n    \tFragColor.rgb = vec3(1.);\n\t\tFragNormal.xyz = -rd1;\n    \t\n\t} else { \n\n\t\t// ray direction to point\n\t\tvec3 rd1 = normalize(p - eyepos);\n\n\t\t// too many ray steps\n\t\tFragColor.rgb = vec3(1.);\n\t\tFragNormal.xyz = -rd1;\n\t}\n\n\t\n\t\n    \t\n\tFragPosition.xyz = p;\n\t// also write to depth buffer, so that landscape occludes other creatures:\n\tgl_FragDepth = computeDepth(p, uViewProjectionMatrix);\n}"
                }
            ],
            "type": "void ()",
            "type_args": [],
            "type_ret": "void"
        }
    ]
}
