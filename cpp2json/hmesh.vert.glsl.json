{
    "ast": "TranslationUnit",
    "filename": "/Users/mp/alicenode_inhabitat/hmesh.vert.glsl",
    "nodes": [
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 19,
                    "col": 1,
                    "line": 3
                },
                "end": {
                    "char": 31,
                    "col": 13,
                    "line": 3
                }
            },
            "name": "mat4",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 131,
                    "col": 1,
                    "line": 4
                },
                "end": {
                    "char": 143,
                    "col": 13,
                    "line": 4
                }
            },
            "name": "mat4",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 205,
                    "col": 1,
                    "line": 7
                },
                "end": {
                    "char": 222,
                    "col": 18,
                    "line": 7
                }
            },
            "name": "sampler2D",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 351,
                    "col": 1,
                    "line": 13
                },
                "end": {
                    "char": 359,
                    "col": 9,
                    "line": 13
                }
            },
            "name": "vec2",
            "type": "int"
        },
        {
            "ast": "VarDecl",
            "loc": {
                "begin": {
                    "char": 370,
                    "col": 1,
                    "line": 14
                },
                "end": {
                    "char": 378,
                    "col": 9,
                    "line": 14
                }
            },
            "name": "vec3",
            "type": "int"
        },
        {
            "ast": "FunctionDecl",
            "loc": {
                "begin": {
                    "char": 398,
                    "col": 1,
                    "line": 16
                },
                "end": {
                    "char": 1016,
                    "col": 2,
                    "line": 36
                }
            },
            "mangled_name": "_main",
            "name": "main",
            "nodes": [
                {
                    "ast": "CompoundStmt",
                    "loc": {
                        "begin": {
                            "char": 410,
                            "col": 13,
                            "line": 16
                        },
                        "end": {
                            "char": 1016,
                            "col": 2,
                            "line": 36
                        }
                    },
                    "text": "{\n\ttexCoord = aTexCoord;\n\tnormal = aNormal;\n\n\tmat4 landMat = uWorld2Map * uLandMatrixInverse;\n\n\t// basic grid mesh is 0..1, need to scale that to the world\n\tposition = (landMat * vec4(aPos, 1.)).xyz;\n\n\n\t// get the landscape data (normal + height) from the texture:\n\t//vec4 land = texture(uLandTex, texCoord.xy);\n\tvec4 land = textureLod(uLandTex, texCoord.xy, uLandLoD);\n\n\t// height (land.w) needs to be scaled to the world\n\tvec3 deform = (uLandMatrixInverse * vec4(0., land.w, 0., 1.)).xyz;\n\tposition += deform * uMapScale;\n\tnormal = land.xyz;\n\t\n\tgl_Position = uViewProjectionMatrix * vec4(position, 1.);\n}"
                }
            ],
            "type": "void ()",
            "type_args": [],
            "type_ret": "void"
        }
    ]
}
